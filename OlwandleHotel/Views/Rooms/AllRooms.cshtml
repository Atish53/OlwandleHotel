@model IEnumerable<OlwandleHotel.Models.Room>

@{
    ViewBag.Title = "All Rooms";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2 style="text-align: center">All Rooms</h2>
<div style="align-self:center;align-content:space-evenly;padding-bottom: 15px">
    <a href="@Url.Action(actionName: "AvailableRooms", controllerName: "Rooms")" class="btn btn-info"><i class="fa fa-shopping-cart"></i>Show Available Rooms</a>
    <a href="@Url.Action(actionName: "AllRooms", controllerName: "Rooms")" class="btn btn-primary"><i class="fa fa-shopping-cart"></i>Show Available Rooms</a>
</div>  

@foreach (var item in Model)
{
    <div class="col-md-2 table-bordered" style="width:inherit; height:550px">
        <div class="row" style="text-align:center;padding 13px;">
            <h2 style="text-align: center">@item.Hotel.HotelName - @item.NumBeds Bedroom Hotel Room</h2>
        </div>
        <div class="row" style="text-align: center;padding-top:13px">
            @if (item.RoomPicture != null)
            {
                var base64 = Convert.ToBase64String(inArray: item.RoomPicture);
                var imgSrc = string.Format(format: "data:image/gif;base64,{0}", arg0: base64);
                <img src="@imgSrc" width="400" height="250 " />
            }
        </div>
        <div class="row">
            @if (item.RoomStatus == true)
            {
                <p style="text-align: center; font-size:medium; color:forestgreen">
                    Available Now
                </p>
            }
            else
            {
                <p style="text-align: center; font-size:medium; color:red">
                    Reserved
                </p>
            }

            <p style="text-align: center;font-size:small;">
                R @Html.DisplayFor(expression: modelItem => item.FixedCost) to reserve now
            </p>
            <p style="text-align: center;font-size:small;">
                @Html.DisplayFor(expression: modelItem => item.NumBeds)
                @Html.DisplayNameFor(Model => Model.NumBeds)
            </p>
            <p style="text-align: center;font-size:small;">
                @Html.DisplayFor(expression: modelItem => item.NumBaths)
                @Html.DisplayNameFor(Model => Model.NumBaths)
            </p>
            <p style="text-align: center;font-size:small;">

                @Html.DisplayFor(expression: modelItem => item.NumLivingRooms)
                @Html.DisplayNameFor(Model => Model.NumLivingRooms)
            </p>
            <p style="text-align: center">
                <a href="@Url.Action(actionName: "Details", controllerName: "Rooms", routeValues: new {id = item.RoomId})" class="btn btn-success"><i class="fa fa-shopping-cart"></i>Details</a>
                @if (item.RoomStatus == true)
                {
                    <a href="@Url.Action(actionName: "Details", controllerName: "Rooms", routeValues: new {id = item.RoomId})" class="btn btn-info"><i class="fa fa-shopping-cart"></i>Reserve Now</a>
                }
                else if (item.RoomStatus == false)
                {
                    <a href="@Url.Action(actionName: "Details", controllerName: "Rooms", routeValues: new {id = item.RoomId})" class="btn btn-danger disabled"><i class="fa fa-shopping-cart"></i>Reserved</a>
                }


            </p>
        </div>


    </div>
    <br />
    <br />
}